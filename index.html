<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Housekeeper</title>
</head>
<body>
<script src="https://unpkg.com/npm-housekeeper/dist/housekeeper.umd.js"></script>
<script src="http://127.0.0.1:8085/dist/housekeeper.umd.js"></script>
<script>
  Housekeeper.monorepoDeps({
    pkgJson: {
      name: 'root',
      dependencies: {
        '@arco-design/web-react': '*'
      },
      projects: [
        {
          name: 'project1',
          dependencies: {
            'vue': '*',
          },
        },
        {
          name: 'project2',
          dependencies: {
            'react': '*',
          },
        },
      ]
    }
  }).then(res => {
    console.log(res.node);
    console.log(res.lockfile.output());
    // console.log(JSON.stringify(res.lockfile.output(), null, 2));
    
    const data = {};
    res.manager.each((n, v, node) => {
      if (node.usedEdges.size > 1) {
        data[`${n}${v}`] = node;
      }
    })
    console.log(data);
    window.res = res;
  })
</script>
</body>
</html>
